<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>登录</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <style>
		#header {
			background-color: #fff;
		}
    </style>
</head>
<body>

<header class="aui-bar aui-bar-nav" id="header">
    <a class="aui-pull-left aui-btn" id="back">
        <span class="aui-iconfont aui-icon-left" style="color:#FBB223;"></span>
    </a>
    <div class="aui-title" id="top_title" style="color:#FBB223;"></div>
</header>


</body>
<script type="text/javascript" src="../script/apiURL.js"></script>
</html>

<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/jquery-3.2.1.min.js"></script>

<script type="text/javascript">

apiready = function() {
    $('#header').css('background-color','#000');
    api.parseTapmode();
    var header = $api.byId('header');
    $api.fixStatusBar(header);
    var headerH = $api.offset(header).h;
    //frame的高度为当前window高度减去header和footer的高度
    var frameH = api.winHeight - headerH;
    api.openFrame({
        name: 'login',
        url: './login.html',
        bounces: false,
        rect: {
            x:0,
            y:headerH,
            w:'auto',
            h:frameH
        }
    })

    //给 id为back的 元素，绑定 单击事件，关闭当前 window窗口页面
    $api.addEvt($api.byId('back'), 'click', function(){
        api.closeWin();
    });
}

function go_register() {
    $('#header').css('background-color','#fff');
    api.parseTapmode();
    var header = $api.byId('header');
    $api.fixStatusBar(header);
    var headerH = $api.offset(header).h;
    //frame的高度为当前window高度减去header和footer的高度
    var frameH = api.winHeight - headerH;
    $api.text(top_title, '注册');
    // 关闭登录页
	api.closeFrame({
	    name: 'login'
	});
    api.openFrame({
        name: 'register',
        url: './register.html',
        bounces: false,
        rect: {
            x:0,
            y:headerH,
            w:'auto',
            h:frameH
        }
    })
}


function go_login() {
    $('#header').css('background-color','#000');
    api.parseTapmode();
    var header = $api.byId('header');
    $api.fixStatusBar(header);
    var headerH = $api.offset(header).h;
    //frame的高度为当前window高度减去header和footer的高度
    var frameH = api.winHeight - headerH;
    $api.text(top_title, ' ');
    // 关闭登录页
	api.closeFrame({
	    name: 'register'
	});
    api.openFrame({
        name: 'login',
        url: './login.html',
        bounces: false,
        rect: {
            x:0,
            y:headerH,
            w:'auto',
            h:frameH
        }
    })
}


function next_step(user_type, user_country) {
	$('#header').css('background-color','#fff');
    api.parseTapmode();
    var header = $api.byId('header');
    $api.fixStatusBar(header);
    var headerH = $api.offset(header).h;
    //frame的高度为当前window高度减去header和footer的高度
    var frameH = api.winHeight - headerH;
    $api.text(top_title, '注册');
    // 关闭登录页
	api.closeFrame({
	    name: 'register'
	});
    api.openFrame({
        name: 'register_next',
        url: './register_next.html',
        bounces: false,
        rect: {
            x:0,
            y:headerH,
            w:'auto',
            h:frameH
        }
    })
}

function go_password() {
    $('#header').css('background-color','#fff');
    api.parseTapmode();
    var header = $api.byId('header');
    $api.fixStatusBar(header);
    var headerH = $api.offset(header).h;
    //frame的高度为当前window高度减去header和footer的高度
    var frameH = api.winHeight - headerH;
    $api.text(top_title, '找回密码');
    // 关闭登录页
	api.closeFrame({
	    name: 'login'
	});
    api.openFrame({
        name: 'getback_password',
        url: './getback_password.html',
        bounces: false,
        rect: {
            x:0,
            y:headerH,
            w:'auto',
            h:frameH
        }
    })
}

</script>