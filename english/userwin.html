<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>用户窗口</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <style>
		#header {
			background-color: #fff;
		}
    </style>
</head>
<body>

<header class="aui-bar aui-bar-nav" id="header">
    <a class="aui-pull-left aui-btn" id="back">
        <span class="aui-iconfont aui-icon-left" style="color:#FBB223;"></span>
    </a>
    <div class="aui-title" id="top_title" style="color:#FBB223;"></div>
    <a class="aui-pull-right aui-btn aui-btn-outlined aui-font-size-12" id="header_right" style="color:#FBB223;"></a>
</header>


</body>
<script type="text/javascript" src="../script/apiURL.js"></script>
</html>

<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/jquery-3.2.1.min.js"></script>

<script>

apiready = function() {
    api.parseTapmode();
    var header = $api.byId('header');
    $api.fixStatusBar(header);
    var headerH = $api.offset(header).h;
    //frame的高度为当前window高度减去header和footer的高度
    var frameH = api.winHeight - headerH;
    // 根据页面传过来的值打开不同的页面
    var pagetype = api.pageParam.pagetype;
    go_url(pagetype);
    //给 id为back的 元素，绑定 单击事件，关闭当前 window窗口页面
    $api.addEvt($api.byId('back'), 'click', function(){
        api.closeWin();
    });
}

function go_url(pagetype) {
    api.parseTapmode();
    var header = $api.byId('header');
    $api.fixStatusBar(header);
    var headerH = $api.offset(header).h;
    //frame的高度为当前window高度减去header和footer的高度
    var frameH = api.winHeight - headerH;
    // 根据页面传过来的值打开不同的页面
    if (pagetype == 8) {
    	$('#top_title').html('Authentication');
    	$('#header_right').html('');
    	$('#header_right').attr('onclick','go_url()');
	    api.openFrame({
	        name: 'auth_center',
	        url: './auth_center.html',
	        bounces: false,
	        rect: {
	            x:0,
	            y:headerH,
	            w:'auto',
	            h:frameH
	        }
	    })
    } else if (pagetype == 101) {
    	$('#top_title').html('My Points');
    	$('#header_right').html('Details');
    	$('#header_right').attr('onclick','go_url(5001)');
	    api.openFrame({
	        name: 'gift_points',
	        url: './gift_points.html',
	        bounces: false,
	        rect: {
	            x:0,
	            y:headerH,
	            w:'auto',
	            h:frameH
	        }
	    })
    } else if (pagetype == 5001 || pagetype == 5002 || pagetype == 5003) {
		api.openWin({
		    name: 'scorewin2',
		    url: './scorewin2.html',
		    pageParam: {
		        pagetype: pagetype,
		    }
		});
    } else if (pagetype == 102) {
    	$('#top_title').html('My Points');
    	$('#header_right').html('Details');
    	$('#header_right').attr('onclick','go_url(5002)');
	    api.openFrame({
	        name: 'kiwi_points',
	        url: './kiwi_points.html',
	        bounces: false,
	        rect: {
	            x:0,
	            y:headerH,
	            w:'auto',
	            h:frameH
	        }
	    })
    } else if (pagetype == 103) {
    	$('#top_title').html('My Points');
    	$('#header_right').html('Details');
    	$('#header_right').attr('onclick','go_url(5003)');
	    api.openFrame({
	        name: 'stock_points',
	        url: './stock_points.html',
	        bounces: false,
	        rect: {
	            x:0,
	            y:headerH,
	            w:'auto',
	            h:frameH
	        }
	    })
    } else if (pagetype == 104) {
		api.openWin({
		    name: 'scorewin2',
		    url: './scorewin2.html',
		    pageParam: {
		        pagetype: pagetype
		    }
		});
    } else if (pagetype == 105) {
		api.openWin({
		    name: 'scorewin2',
		    url: './scorewin2.html',
		    pageParam: {
		        pagetype: pagetype
		    }
		});
    } else if (pagetype == 106) {
		api.openWin({
		    name: 'scorewin2',
		    url: './scorewin2.html',
		    pageParam: {
		        pagetype: pagetype
		    }
		});
    } else if (pagetype == 201) {
    	$('#top_title').html('Account Statistics');
    	$('#header_right').html('Account Details');
    	$('#header_right').attr('onclick','go_url(6001)');
	    api.openFrame({
	        name: 'prepayment_account',
	        url: './prepayment_account.html',
	        bounces: false,
	        rect: {
	            x:0,
	            y:headerH,
	            w:'auto',
	            h:frameH
	        }
	    })
    } else if (pagetype == 202) {
    	$('#top_title').html('Account Statistics');
    	$('#header_right').html('Account Details');
    	$('#header_right').attr('onclick','go_url(6002)');
	    api.openFrame({
	        name: 'cloudunion_account',
	        url: './cloudunion_account.html',
	        bounces: false,
	        rect: {
	            x:0,
	            y:headerH,
	            w:'auto',
	            h:frameH
	        }
	    })
    } else if (pagetype == 203) {
    	$('#top_title').html('Account Statistics');
    	$('#header_right').html('Account Details');
    	$('#header_right').attr('onclick','go_url(209)');
	    api.openFrame({
	        name: 'servicecharge_account',
	        url: './servicecharge_account.html',
	        bounces: false,
	        rect: {
	            x:0,
	            y:headerH,
	            w:'auto',
	            h:frameH
	        }
	    })
    } else if (pagetype == 204) {
    	$('#header_right').html('');
    	$('#header_right').attr('onclick','');
		api.openWin({
		    name: 'scorewin2',
		    url: './scorewin2.html',
		    pageParam: {
		        pagetype: pagetype
		    }
		});
    } else if (pagetype == 205) {
		api.openWin({
		    name: 'scorewin2',
		    url: './scorewin2.html',
		    pageParam: {
		        pagetype: pagetype
		    }
		});
    } else if (pagetype == 206) {
		api.openWin({
		    name: 'scorewin2',
		    url: './scorewin2.html',
		    pageParam: {
		        pagetype: pagetype
		    }
		});
    } else if (pagetype == 209) {
		api.openWin({
		    name: 'scorewin2',
		    url: './scorewin2.html',
		    pageParam: {
		        pagetype: pagetype
		    }
		});
    } else {
		api.openWin({
		    name: 'scorewin2',
		    url: './scorewin2.html',
		    pageParam: {
		        pagetype: pagetype
		    }
		});
    }
}

</script>